<!doctype html>
<html class="no-js" lang="fr" ng-app="app" ng-controller="Top100Ctrl">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title ng-bind-html="infos.title">Top 100</title>
        <meta name="description" content="{{infos.meta.covertitle}}">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" type="image/x-icon" href="http://thebackpackerz.com/wp-content/uploads/2015/05/favicon-the-backpackerz-blog-hip-hop.gif" />
        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="css/style.min.css" rel="stylesheet" type="text/css">
    </head>
    <body 
        ng-class="{'is-navigating': isNavigating}">

        <nav class="nav"></nav>

        <div class="container">

            <header class="header"
                ng-class="{'is-reduced': documentScroll > 0}">
                <a href class="header__burger fa fa-bars"
                    ng-click="toggleNav()"></a>
                <a href="http://thebackpackerz.com" target="_blank" class="header__logo"></a>
            </header>

            <!--[if lt IE 8]>
                <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
            <![endif]-->

            <section class="cover"
                ng-style="{'height':documentHeight + 'px'}">
                <div class="cover__image"
                    ng-style="{'background-image':'url(' + infos.meta.coverimage.url + ')'}"></div>
                <div class="cover__text">
                    <h1 class="cover__title">{{infos.meta.covertitle}}</h1>
                </div>
            </section>

            <div class="layout">

                <div class="intro">
                    <div class="overheading"><span class="overheading__label">{{infos.meta.surtitre}}</span></div>
                    <h2 class="heading heading--1">{{infos.meta.h2subtitle}}</h2>
                    <p class="paragraph"
                        ng-bind-html="infos.content"></p>
                </div>

                <section class="filters">
                    <a href class="filters__item button"
                        ng-class="{'is-active': groupBy == 'meta.albumrankcat'}"
                        ng-click="setFilter('albumrankcat')">{{infos.meta.filtre_classement}}</a>
                    <a href class="filters__item button"
                        ng-class="{'is-active': groupBy == 'meta.albumyearcat'}"
                        ng-click="setFilter('albumyearcat')">{{infos.meta.filtre_date}}</a>
                    <a href class="filters__item button"
                        ng-class="{'is-active': groupBy == 'meta.albumstylecat'}"
                        ng-click="setFilter('albumstylecat')">{{infos.meta.filtre_style}}</a>
                </section>

                <section class="albums">
                    <ul class="albums__cat"
                        ng-repeat="(key, cat) in albums | groupBy: groupBy">
                        <div class="albums__caption">
                            <span class="albums__captionLabel">{{key}}</span>
                        </div>
                        <li class="albums__item album js-album"
                            data-album="{}"
                            ng-repeat="(index, album) in cat | orderBy: 'meta.albumrank'"
                            ng-class="{'is-active': album.slug == activeAlbum}"
                            ng-click="openAlbum(album.slug);loadAlbumSample(album.meta.albumextract)">
                            <img class="album__cover" ng-src="{{album.meta.albumcover.url}}" alt="{{album.title}}" />
                            <span class="album__rank">{{album.meta.albumrank}}</span>
                            <div class="album__infos">
                                <span class="album__title"
                                    ng-bind-html="album.title"></span>
                            </div>
                        </li>
                    </ul>
                </section>

                <footer class="footer"
                    ng-include="config.incPath + 'footer.html'"></footer>

            </div>

            <section class="player"
                ng-if="isPlayerReady"
                ng-class="{'is-active': documentScroll > documentHeight}">
                <div id="player"></div>
                <div class="player__infos">
                    <img ng-src="" class="player__infosCover" />
                    <span class="player__infosTitle"></span>
                    <span class="player__infosArtist"></span>
                </div>
                <div class="player__controls">
                    <a href class="player__control fa fa-step-backward"></a>
                    <a href class="player__control fa fa-play"
                        ng-hide="isPlaying"></a>
                    <a href class="player__control fa fa-pause"
                        ng-click="pauseAlbumSample()"
                        ng-show="isPlaying"></a>
                    <a href class="player__control fa fa-step-forward"></a>
                </div>
                <div class="player__progressbar">
                    <div class="progressbar">
                        <div class="progressbar__complete"
                            ng-style="{'width': playerProgression + '%'}"></div>
                    </div>
                </div>
                <div class="player__button">
                    <a href class="button">Télécharger la mixtape</a>
                </div>
                <div class="player__branding">
                    <span class="player__logo"></span>
                </div>
            </section>

        </div>

        <script src="js/vendors.min.js"></script>
        <script src="js/player.js"></script>
        <script src="js/app.js"></script>
    </body>
</html>
